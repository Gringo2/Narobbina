// Tab content for all solutions
const tabContent = {
    apartments: {
        breadcrumbs: {
            title: "Apartments",
            subtitle: "Smart solutions for modern living",
            background: "assets/img/hero-carousel/hero-carousel-1.jpg"
        },
        overview: {
            title: "Apartments",
            description: "We understand the unique challenges of apartment communities, condominiums, and multi-unit properties. Our comprehensive security solutions integrate advanced surveillance, controlled access systems, and AI-powered monitoring, ensuring a secure living environment without compromising convenience.",
            features: [
                {
                    icon: "bi-key-fill",
                    text: "Smart Access Control – Keyless entry, biometric authentication, and mobile app-based access for enhanced security."
                },
                {
                    icon: "bi-camera-video-fill",
                    text: "Surveillance Cameras – High-quality cameras with night vision, motion detection, and real-time monitoring for comprehensive security."
                },
                {
                    icon: "bi-robot",
                    text: "AI-Powered Monitoring – Advanced analytics and alerts for timely responses and proactive security management."
                },
                {
                    icon: "bi-phone",
                    text: "Resident App – Secure mobile access, package management, and communication tools for enhanced convenience."
                }
            ],
            image: "assets/img/Solutions/Apartment/apt-hero.jpg"
        },
        pageContent: {
            title: "Key industry challenges",
            subtitle: "Addressing modern apartment living's most pressing security and operational needs",
            cards: [
                {
                    image: "assets/img/Solutions/Apartment/access-control.jpg",
                    title: "Access Control",
                    description: "Smart access control solutions that enhance security while providing convenient entry for residents and authorized visitors."
                },
                {
                    image: "assets/img/Solutions/Apartment/property-management.jpg",
                    title: "Property Management",
                    description: "Streamline operations with integrated solutions for monitoring, maintenance tracking, and resident communication."
                },
                {
                    image: "assets/img/Solutions/Apartment/resident-exprience.jpg",
                    title: "Resident Experience",
                    description: "Enhance resident satisfaction with smart home features, package management, and seamless communication tools."
                }
            ]
        },
        eBrochure: {
            title: "Apartment Solutions",
            description: "Discover how our comprehensive network solutions can transform your apartment property with enhanced security, smart living features, and efficient property management tools. Download our brochure to learn more about creating a modern, connected living experience.",
            features: [
                {
                    icon: "bi-shield-check",
                    text: "Enhanced Security"
                },
                {
                    icon: "bi-house-gear",
                    text: "Smart Living"
                },
                {
                    icon: "bi-graph-up",
                    text: "Efficient Management"
                }
            ],
            downloadLink: "assets/downloads/Smart-Apartment.pdf",
            downloadName: "Narobbina-Smart-Apartment-Solutions.pdf",
            image: "assets/img/Solutions/Apartment/feature-download.jpg"
        }
    },
    homeSecurity: {
        breadcrumbs: {
            title: "Smart Home Security",
            subtitle: "Protecting what matters most",
            background: "assets/img/solutions/ap-home.jpg"
        },
        overview: {
            title: "Smart Home Security",
            description: "Experience peace of mind with our comprehensive home security solutions. We combine cutting-edge technology with intuitive design to create a secure environment for your family. Our smart security systems offer round-the-clock protection while keeping you connected and in control.",
            features: [
                {
                    icon: "bi-shield-check",
                    text: "24/7 Monitoring – Professional monitoring services with instant alerts and emergency response."
                },
                {
                    icon: "bi-camera-video",
                    text: "Smart Cameras – HD cameras with night vision, motion detection, and mobile viewing capabilities."
                },
                {
                    icon: "bi-door-closed",
                    text: "Access Control – Smart locks, video doorbells, and remote access management for enhanced security."
                },
                {
                    icon: "bi-phone",
                    text: "Mobile Control – Manage your security system from anywhere using our intuitive mobile app."
                }
            ],
            image: "assets/img/Solutions/ap-hero.jpg"
        },
        pageContent: {
            title: "Key Security Features",
            subtitle: "Comprehensive protection for your home and family",
            cards: [
                {
                    image: "assets/img/Solutions/home-sec.jpg",
                    title: "Smart Monitoring",
                    description: "Advanced monitoring systems with AI-powered threat detection and instant notifications."
                },
                {
                    image: "assets/img/Solutions/Apartment/access-control.jpg",
                    title: "Access Control",
                    description: "Smart locks and access management systems for secure entry and remote control."
                },
                {
                    image: "assets/img/Solutions/home-automation.jpg",
                    title: "Home Automation",
                    description: "Integrate security with smart home features for enhanced convenience and control."
                }
            ]
        },
        eBrochure: {
            title: "Home Security Solutions",
            description: "Discover how our smart home security solutions can protect your family and property with advanced technology and professional monitoring. Download our brochure to learn more about creating a safer home environment.",
            features: [
                {
                    icon: "bi-shield-check",
                    text: "Professional Monitoring"
                },
                {
                    icon: "bi-camera-video",
                    text: "Smart Surveillance"
                },
                {
                    icon: "bi-phone",
                    text: "Mobile Control"
                }
            ],
            downloadLink: "assets/downloads/Smart-Home-Security.pdf",
            downloadName: "Narobbina-Smart-Home-Security.pdf",
            image: "assets/img/Solutions/down.jpg"
        }
    },
    retail: {
        breadcrumbs: {
            title: "Smart Retail Solutions",
            subtitle: "Transform your retail business with smart technology",
            background: "assets/img/hero-carousel/hero-carousel-1.jpg"
        },
        overview: {
            title: "Smart Retail Solutions",
            description: "Transform your retail business with our innovative smart solutions. We integrate cutting-edge technology with retail operations to enhance customer experience, optimize inventory management, and boost operational efficiency. Our smart retail systems help you stay competitive in the modern retail landscape.",
            features: [
                {
                    icon: "bi-graph-up",
                    text: "Analytics & Insights – Advanced retail analytics for data-driven decision making."
                },
                {
                    icon: "bi-box-seam",
                    text: "Inventory Management – Smart inventory tracking and automated restocking systems."
                },
                {
                    icon: "bi-people",
                    text: "Customer Experience – Enhanced shopping experience with smart displays and personalization."
                },
                {
                    icon: "bi-shield-check",
                    text: "Security Solutions – Comprehensive retail security with surveillance and loss prevention."
                }
            ],
            image: "assets/img/Solutions/rt-hero.jpg"
        },
        pageContent: {
            title: "Key Retail Features",
            subtitle: "Smart solutions for modern retail operations",
            cards: [
                {
                    image: "assets/img/Solutions/analytics.jpg",
                    title: "Smart Analytics",
                    description: "Real-time analytics and insights for better business decisions and customer understanding."
                },
                {
                    image: "assets/img/Solutions/inventory.jpg",
                    title: "Inventory Control",
                    description: "Automated inventory management with real-time tracking and smart restocking."
                },
                {
                    image: "assets/img/Solutions/theft.jpg",
                    title: "Security Systems",
                    description: "Advanced security solutions with surveillance and theft prevention features."
                }
            ]
        },
        eBrochure: {
            title: "Retail Solutions",
            description: "Transform your retail business with our smart solutions. Download our brochure to learn more about how we can help you optimize operations, enhance customer experience, and drive growth with innovative technology.",
            features: [
                {
                    icon: "bi-graph-up",
                    text: "Smart Analytics"
                },
                {
                    icon: "bi-box-seam",
                    text: "Inventory Control"
                },
                {
                    icon: "bi-shield-check",
                    text: "Security Systems"
                }
            ],
            downloadLink: "assets/downloads/Smart-Retail.pdf",
            downloadName: "Narobbina-Smart-Retail.pdf",
            image: "assets/img/Solutions/transform.jpg"
        }
    },
    warehouse: {
        breadcrumbs: {
            title: "Smart Warehouse Solutions",
            subtitle: "Optimize your warehouse operations with smart technology",
            background: "assets/img/hero-carousel/hero-carousel-1.jpg"
        },
        overview: {
            title: "Smart Warehouse Solutions",
            description: "Transform your warehouse operations with our innovative smart solutions. We integrate cutting-edge technology with warehouse management to enhance efficiency, optimize inventory control, and streamline logistics. Our smart warehouse systems help you stay competitive in the modern supply chain landscape.",
            features: [
                {
                    icon: "bi-box-seam",
                    text: "Inventory Management – Advanced tracking systems with real-time monitoring and automated alerts."
                },
                {
                    icon: "bi-robot",
                    text: "Automation Systems – Robotic solutions and automated material handling for improved efficiency."
                },
                {
                    icon: "bi-graph-up",
                    text: "Analytics & Insights – Data-driven decision making with advanced warehouse analytics."
                },
                {
                    icon: "bi-shield-check",
                    text: "Security Solutions – Comprehensive warehouse security with surveillance and access control."
                }
            ],
            image: "assets/img/Solutions/wh-hero.jpg"
        },
        pageContent: {
            title: "Key Warehouse Features",
            subtitle: "Smart solutions for modern warehouse operations",
            cards: [
                {
                    image: "assets/img/Solutions/invent.jpg",
                    title: "Inventory Control",
                    description: "Advanced inventory management with real-time tracking and automated alerts."
                },
                {
                    image: "assets/img/Solutions/robot.jpg",
                    title: "Smart Automation",
                    description: "Robotic solutions and automated systems for efficient material handling."
                },
                {
                    image: "assets/img/Solutions/surviellance.jpg",
                    title: "Security Systems",
                    description: "Comprehensive security with surveillance and access control features."
                }
            ]
        },
        eBrochure: {
            title: "Warehouse Solutions",
            description: "Transform your warehouse operations with our smart solutions. Download our brochure to learn more about how we can help you optimize logistics, enhance efficiency, and drive growth with innovative technology.",
            features: [
                {
                    icon: "bi-box-seam",
                    text: "Inventory Control"
                },
                {
                    icon: "bi-robot",
                    text: "Smart Automation"
                },
                {
                    icon: "bi-shield-check",
                    text: "Security Systems"
                }
            ],
            downloadLink: "assets/downloads/Smart-Warehouse.pdf",
            downloadName: "Narobbina-Smart-Warehouse.pdf",
            image: "assets/img/Solutions/wpage.jpg"
        }
    },
    hotel: {
        breadcrumbs: {
            title: "Smart Hotel Solutions",
            subtitle: "Elevate guest experience with intelligent security",
            background: "assets/img/hero-carousel/hero-carousel-1.jpg"
        },
        overview: {
            title: "Smart Hotel Solutions",
            description: "Transform your hotel operations with our comprehensive smart solutions. We integrate cutting-edge technology with hospitality management to enhance guest experience, optimize security, and streamline operations. Our smart hotel systems help you deliver exceptional service while maintaining the highest security standards.",
            features: [
                {
                    icon: "bi-door-open",
                    text: "Smart Access Control – Seamless guest check-in, mobile keys, and staff access management."
                },
                {
                    icon: "bi-camera-video",
                    text: "Surveillance Systems – Advanced monitoring for public areas, corridors, and critical zones."
                },
                {
                    icon: "bi-person-check",
                    text: "Staff Management – Employee access tracking, time management, and security protocols."
                },
                {
                    icon: "bi-shield-check",
                    text: "Asset Protection – Secure storage solutions and real-time monitoring of valuable assets."
                }
            ],
            image: "assets/img/Solutions/ht-hero.jpg"
        },
        pageContent: {
            title: "Key Hotel Features",
            subtitle: "Smart solutions for modern hospitality management",
            cards: [
                {
                    image: "assets/img/Solutions/guest.jpg",
                    title: "Guest Experience",
                    description: "Enhance guest satisfaction with seamless access control, automated check-in, and smart room features."
                },
                {
                    image: "assets/img/Solutions/staff.jpg",
                    title: "Staff Management",
                    description: "Optimize staff operations with advanced access control and monitoring systems."
                },
                {
                    image: "assets/img/Solutions/monitor.jpg",
                    title: "Security Systems",
                    description: "Comprehensive security with 24/7 surveillance and intelligent monitoring solutions."
                }
            ]
        },
        eBrochure: {
            title: "Hotel Solutions",
            description: "Discover how our smart hotel solutions can transform your property with enhanced security, guest experience features, and efficient management tools. Download our brochure to learn more about creating a modern, secure hospitality environment.",
            features: [
                {
                    icon: "bi-door-open",
                    text: "Smart Access"
                },
                {
                    icon: "bi-shield-check",
                    text: "Enhanced Security"
                },
                {
                    icon: "bi-graph-up",
                    text: "Efficient Management"
                }
            ],
            downloadLink: "assets/downloads/Smart-Hotel.pdf",
            downloadName: "Narobbina-Smart-Hotel-Solutions.pdf",
            image: "assets/img/Solutions/hdown.jpg"
        }
    },
    school: {
        breadcrumbs: {
            title: "Smart School Solutions",
            subtitle: "Creating safe and secure learning environments",
            background: "assets/img/hero-carousel/hero-carousel-1.jpg"
        },
        overview: {
            title: "Smart School Solutions",
            description: "Ensure the safety of students, staff, and visitors with our comprehensive school security solutions. We combine advanced technology with intuitive systems to create a secure learning environment. Our smart school systems provide peace of mind while maintaining an open and welcoming atmosphere.",
            features: [
                {
                    icon: "bi-shield-check",
                    text: "Campus Security – Comprehensive protection systems for all school areas and entry points."
                },
                {
                    icon: "bi-camera-video",
                    text: "Smart Monitoring – Advanced surveillance with real-time alerts and emergency response."
                },
                {
                    icon: "bi-door-closed",
                    text: "Access Control – Controlled entry systems for students, staff, and visitors."
                },
                {
                    icon: "bi-bell",
                    text: "Emergency Systems – Integrated alert systems with instant notification capabilities."
                }
            ],
            image: "assets/img/Solutions/sc-hero.jpg"
        },
        pageContent: {
            title: "Key School Features",
            subtitle: "Smart solutions for educational institution security",
            cards: [
                {
                    image: "assets/img/Solutions/campus.jpg",
                    title: "Campus Security",
                    description: "Complete security coverage with integrated systems for all school zones and facilities."
                },
                {
                    image: "assets/img/Solutions/ac.jpg",
                    title: "Access Management",
                    description: "Smart access control systems for different user groups and areas."
                },
                {
                    image: "assets/img/Solutions/emergency.jpg",
                    title: "Emergency Response",
                    description: "Quick response systems with automated alerts and communication protocols."
                }
            ]
        },
        eBrochure: {
            title: "School Solutions",
            description: "Learn how our smart school security solutions can create a safer learning environment with advanced protection systems and efficient management tools. Download our brochure to explore our comprehensive security features.",
            features: [
                {
                    icon: "bi-shield-check",
                    text: "Complete Protection"
                },
                {
                    icon: "bi-door-closed",
                    text: "Smart Access"
                },
                {
                    icon: "bi-bell",
                    text: "Emergency Alert"
                }
            ],
            downloadLink: "assets/downloads/Smart-School.pdf",
            downloadName: "Narobbina-Smart-School-Solutions.pdf",
            image: "assets/img/Solutions/envt.jpg"
        }
    },
    healthcare: {
        breadcrumbs: {
            title: "Healthcare Security Solutions",
            subtitle: "Protecting patients, staff, and medical assets",
            background: "assets/img/hero-carousel/hero-carousel-1.jpg"
        },
        overview: {
            title: "Healthcare Security Solutions",
            description: "Safeguard your healthcare facility with our comprehensive security solutions. We integrate advanced technology with healthcare-specific requirements to protect patients, staff, and valuable medical assets. Our smart healthcare systems ensure compliance while maintaining efficient operations.",
            features: [
                {
                    icon: "bi-heart-pulse",
                    text: "Patient Safety – Advanced monitoring systems for patient areas and emergency response."
                },
                {
                    icon: "bi-shield-check",
                    text: "Asset Protection – Secure storage and tracking for medical equipment and supplies."
                },
                {
                    icon: "bi-door-closed",
                    text: "Access Control – Multi-level access management for different facility areas."
                },
                {
                    icon: "bi-camera-video",
                    text: "Surveillance Systems – Comprehensive monitoring with privacy considerations."
                }
            ],
            image: "assets/img/Solutions/Apartment/apt-hero.jpg"
        },
        pageContent: {
            title: "Key Healthcare Features",
            subtitle: "Smart solutions for modern healthcare security",
            cards: [
                {
                    image: "assets/img/Solutions/Apartment/access-control.jpg",
                    title: "Patient Protection",
                    description: "Advanced systems for patient monitoring and emergency response protocols."
                },
                {
                    image: "assets/img/Solutions/Apartment/property-management.jpg",
                    title: "Asset Security",
                    description: "Comprehensive protection for medical equipment and pharmaceutical supplies."
                },
                {
                    image: "assets/img/Solutions/Apartment/resident-exprience.jpg",
                    title: "Access Control",
                    description: "Smart access management for different security zones and personnel levels."
                }
            ]
        },
        eBrochure: {
            title: "Healthcare Solutions",
            description: "Discover how our healthcare security solutions can protect your facility with advanced monitoring systems and efficient management tools. Download our brochure to learn more about our comprehensive security features.",
            features: [
                {
                    icon: "bi-heart-pulse",
                    text: "Patient Safety"
                },
                {
                    icon: "bi-shield-check",
                    text: "Asset Protection"
                },
                {
                    icon: "bi-door-closed",
                    text: "Smart Access"
                }
            ],
            downloadLink: "assets/downloads/Smart-Healthcare.pdf",
            downloadName: "Narobbina-Smart-Healthcare-Solutions.pdf",
            image: "assets/img/Solutions/Apartment/feature-download.jpg"
        }
    }
};

// Function to load tab content
function loadTabContent(tabId) {
    const content = tabContent[tabId];
    if (!content) return null;

    return `
        <div class="tab-content-container animate-in">
            <div class="loading-overlay">
                <div class="loading-spinner"></div>
                <div class="loading-text">Loading ${content.overview.title}...</div>
            </div>
            <!-- Overview Section -->
            <section id="overview" class="overview animate-section" style="animation-delay: 0.1s">
                <div class="container">
                    <div class="overview-content">
                        <div class="overview-text">
                            <h1 class="animate-item" style="animation-delay: 0.15s">${content.overview.title}</h1>
                            <p class="animate-item" style="animation-delay: 0.15s">${content.overview.description}</p>

                            <div class="feature-list">
                                ${content.overview.features.map((feature, index) => `
                                    <div class="feature-item animate-item" style="animation-delay: 0.15s">
                                        <i class="bi ${feature.icon} animate-icon" style="animation-delay: 0.15s"></i>
                                        <span>${feature.text}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        <div class="overview-video animate-item" style="animation-delay: 0.15s">
                            <img src="${content.overview.image}" alt="${content.overview.title}" class="animate-scale" style="animation-delay: 0.15s">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Page Content Section -->
            <div class="page-content animate-section" style="animation-delay: 0.1s">
                <div class="container">
                    <div class="page-title animate-item" style="animation-delay: 0.15s">
                        <h1>${content.pageContent.title}</h1>
                        <p>${content.pageContent.subtitle}</p>
                    </div>

                    <div class="page-grid">
                        ${content.pageContent.cards.map((card, index) => `
                            <div class="page-card animate-item" style="animation-delay: 0.15s">
                                <div class="page-card-image">
                                    <img src="${card.image}" alt="${card.title}" class="animate-scale" style="animation-delay: 0.15s">
                                </div>
                                <div class="page-card-content">
                                    <h3>${card.title}</h3>
                                    <p>${card.description}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            </div>

            <!-- eBrochure Section -->
            <section class="ebrochure animate-section" style="animation-delay: 0.1s">
                <div class="container">
                    <div class="ebrochure-container">
                        <div class="ebrochure-content">
                            <div class="ebrochure-text animate-item" style="animation-delay: 0.15s">
                                <h2>${content.eBrochure.title}</h2>
                                <p>${content.eBrochure.description}</p>
                                <div class="ebrochure-features">
                                    ${content.eBrochure.features.map((feature, index) => `
                                        <div class="feature animate-item" style="animation-delay: 0.15s">
                                            <i class="bi ${feature.icon} animate-icon" style="animation-delay: 0.15s"></i>
                                            <span>${feature.text}</span>
                                        </div>
                                    `).join('')}
                                </div>
                                <a href="${content.eBrochure.downloadLink}" 
                                   class="ebrochure-btn animate-item" 
                                   style="animation-delay: 0.15s"
                                   download="${content.eBrochure.downloadName}"
                                   onclick="handleDownload(event, '${content.eBrochure.title.replace(/\s+/g, '-')}-Brochure')">
                                    Download eBrochure
                                    <i class="bi bi-download"></i>
                                </a>
                            </div>
                            <div class="ebrochure-image animate-item" style="animation-delay: 0.15s">
                                <img src="${content.eBrochure.image}" alt="${content.eBrochure.title}" class="animate-scale" style="animation-delay: 0.15s">
                                <div class="ebrochure-icon animate-bounce">
                                    <i class="bi bi-file-earmark-text"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    `;
}

// Function to initialize first tab content
function initializeFirstTab() {
    const firstTabId = 'apartments';
    const tabContentContainer = document.querySelector('.tab-content');
    
    if (tabContentContainer) {
        // Set initial loading state
        tabContentContainer.classList.add('loading');
        
        // Load content immediately
        const content = loadTabContent(firstTabId);
        if (content) {
            tabContentContainer.innerHTML = content;
            
            // Remove loading state and initialize animations
            requestAnimationFrame(() => {
                tabContentContainer.classList.remove('loading');
                initializeAnimations();
                
                // Update active tab state
                const tabButtons = document.querySelectorAll('.tab-btn');
                tabButtons.forEach(button => {
                    button.classList.remove('active');
                    if (button.getAttribute('data-tab') === firstTabId) {
                        button.classList.add('active');
                    }
                });
            });
        }
    }
}

// Function to handle tab switching
function handleTabClick(tabId) {
    const tabContentContainer = document.querySelector('.tab-content');
    
    if (tabContentContainer && tabId) {
        // Remove any existing content and loading states
        tabContentContainer.innerHTML = '';
        tabContentContainer.classList.remove('loading');
        
        // Create and append loading overlay
        const loadingOverlay = document.createElement('div');
        loadingOverlay.className = 'loading-overlay';
        loadingOverlay.innerHTML = `
            <div class="loading-spinner"></div>
            <div class="loading-text">Loading ${tabContent[tabId].overview.title}...</div>
        `;
        tabContentContainer.appendChild(loadingOverlay);
        
        // Show loading state
        tabContentContainer.classList.add('loading');
        
        // Update active tab state
        const tabButtons = document.querySelectorAll('.tab-btn');
        tabButtons.forEach(button => {
            button.classList.remove('active');
            if (button.getAttribute('data-tab') === tabId) {
                button.classList.add('active');
            }
        });

        // Load new content with a slight delay
        setTimeout(() => {
            const content = loadTabContent(tabId);
            if (content) {
                // Remove loading state first
                tabContentContainer.classList.remove('loading');
                // Then update content
                tabContentContainer.innerHTML = content;
                // Initialize animations after content is loaded
                requestAnimationFrame(() => {
                    initializeAnimations();
                });
            }
        }, 300);
    }
}

// Function to handle tab menu scrolling
function initializeTabMenuScroll() {
    const tabButtons = document.querySelector('.tab-buttons');
    if (!tabButtons) return;

    // Wrap tab buttons in a container if not already wrapped
    if (!tabButtons.parentElement.classList.contains('tab-menu-wrapper')) {
        const wrapper = document.createElement('div');
        wrapper.className = 'tab-menu-wrapper';
        tabButtons.parentNode.insertBefore(wrapper, tabButtons);
        wrapper.appendChild(tabButtons);

        // Add scroll indicators
        const leftIndicator = document.createElement('div');
        leftIndicator.className = 'scroll-indicator left';
        const rightIndicator = document.createElement('div');
        rightIndicator.className = 'scroll-indicator right';
        wrapper.appendChild(leftIndicator);
        wrapper.appendChild(rightIndicator);
    }

    // Function to update scroll indicators
    function updateScrollIndicators() {
        const leftIndicator = document.querySelector('.scroll-indicator.left');
        const rightIndicator = document.querySelector('.scroll-indicator.right');
        
        if (leftIndicator && rightIndicator) {
            // Calculate scroll positions
            const hasLeftScroll = tabButtons.scrollLeft > 20;
            const hasRightScroll = Math.abs(
                (tabButtons.scrollWidth - tabButtons.clientWidth) - 
                tabButtons.scrollLeft
            ) > 20;

            leftIndicator.classList.toggle('show', hasLeftScroll);
            rightIndicator.classList.toggle('show', hasRightScroll);
        }
    }

    // Scroll active tab into view with improved positioning
    function scrollActiveTabIntoView() {
        const activeTab = tabButtons.querySelector('.tab-btn.active');
        if (activeTab) {
            const containerWidth = tabButtons.offsetWidth;
            const tabWidth = activeTab.offsetWidth;
            const tabLeft = activeTab.offsetLeft;
            
            // Calculate the center position
            const targetScroll = tabLeft - (containerWidth - tabWidth) / 2;
            
            // Ensure smooth scrolling
            tabButtons.scrollTo({
                left: Math.max(0, targetScroll),
                behavior: 'smooth'
            });

            // Update indicators after scroll
            setTimeout(updateScrollIndicators, 300);
        }
    }

    // Add touch event handling for mobile
    let touchStartX = 0;
    let scrollStartX = 0;

    tabButtons.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].pageX;
        scrollStartX = tabButtons.scrollLeft;
    }, { passive: true });

    tabButtons.addEventListener('touchmove', (e) => {
        const touchDiff = touchStartX - e.touches[0].pageX;
        tabButtons.scrollLeft = scrollStartX + touchDiff;
    }, { passive: true });

    // Add event listeners
    tabButtons.addEventListener('scroll', () => {
        requestAnimationFrame(updateScrollIndicators);
    });
    
    window.addEventListener('resize', () => {
        requestAnimationFrame(() => {
            updateScrollIndicators();
            scrollActiveTabIntoView();
        });
    });

    // Add click handler for smooth scrolling
    tabButtons.querySelectorAll('.tab-btn').forEach(button => {
        button.addEventListener('click', () => {
            requestAnimationFrame(() => {
                scrollActiveTabIntoView();
                updateScrollIndicators();
            });
        });
    });

    // Initial setup
    requestAnimationFrame(() => {
        scrollActiveTabIntoView();
        updateScrollIndicators();
    });
}

// Update the DOMContentLoaded event listener
document.addEventListener('DOMContentLoaded', () => {
    const tabContentContainer = document.querySelector('.tab-content');
    if (!tabContentContainer) {
        console.error('Tab content container not found');
        return;
    }

    // Initialize first tab
    initializeFirstTab();
    
    // Initialize tab menu scroll
    initializeTabMenuScroll();
    
    // Add click handlers for tab buttons
    const tabButtons = document.querySelectorAll('.tab-btn');
    tabButtons.forEach(button => {
        button.addEventListener('click', (e) => {
            e.preventDefault();
            const tabId = button.getAttribute('data-tab');
            if (tabId && tabContent[tabId]) {
                handleTabClick(tabId);
            }
        });
    });
});

// Add CSS styles for tab content
const styles = `
    <style>
        /* Enhanced Loading Animation */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.98);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(5px);
        }

        .loading .loading-overlay {
            opacity: 1;
            visibility: visible;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 31, 141, 0.1);
            border-top: 4px solid #001f8d;
            border-radius: 50%;
            animation: spin 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
            box-shadow: 0 0 15px rgba(0, 31, 141, 0.2);
        }

        .loading-text {
            margin-top: 20px;
            color: #001f8d;
            font-size: 1.2rem;
            font-weight: 500;
            opacity: 0;
            transform: translateY(10px);
            animation: textReveal 0.6s cubic-bezier(0.215, 0.61, 0.355, 1) forwards 0.3s;
        }

        /* Enhanced Content Animations */
        .animate-in {
            opacity: 1;
            animation: contentFadeIn 0.5s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;
        }

        .animate-section {
            opacity: 1;
            transform: translateY(0);
        }

        .animate-section.in-view {
            animation: sectionSlideUp 0.6s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
        }

        .animate-item {
            opacity: 1;
            transform: translateY(0);
        }

        .animate-item.in-view {
            animation: itemSlideUp 0.4s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;
        }

        .animate-scale {
            opacity: 1;
            transform: scale(1);
        }

        .animate-scale.in-view {
            animation: scaleIn 0.5s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;
        }

        .animate-icon {
            opacity: 1;
            transform: scale(1) rotate(0);
        }

        .animate-icon.in-view {
            animation: iconPop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .animate-bounce {
            animation: bounce 3s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
        }

        @keyframes textReveal {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes contentFadeIn {
            from { 
                opacity: 0;
                transform: translateY(10px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes sectionSlideUp {
            0% {
                opacity: 0;
                transform: translateY(40px);
            }
            20% {
                opacity: 0;
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes itemSlideUp {
            0% {
                opacity: 0;
                transform: translateY(25px);
            }
            30% {
                opacity: 0;
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes scaleIn {
            0% {
                transform: scale(0.92);
                opacity: 0;
            }
            30% {
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes iconPop {
            0% {
                transform: scale(0) rotate(-180deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.2) rotate(5deg);
            }
            70% {
                transform: scale(0.9) rotate(-5deg);
            }
            100% {
                transform: scale(1) rotate(0);
                opacity: 1;
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0) scale(1);
            }
            40% {
                transform: translateY(-12px) scale(1.1);
            }
            60% {
                transform: translateY(-8px) scale(1.05);
            }
        }

        /* Enhanced Tab Button Animation */
        .tab-btn {
            transform: translateY(0);
            transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);
            position: relative;
            overflow: hidden;
        }

        .tab-btn:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: #001f8d;
            transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);
            transform: translateX(-50%);
        }

        .tab-btn:hover {
            transform: translateY(-3px);
        }

        .tab-btn:hover:after {
            width: 80%;
        }

        .tab-btn.active {
            animation: tabActivate 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes tabActivate {
            0% { transform: scale(0.95) translateY(0); }
            40% { transform: scale(1.08) translateY(-5px); }
            80% { transform: scale(0.95) translateY(-2px); }
            100% { transform: scale(1) translateY(-3px); }
        }

        /* Mobile Scrollable Tab Menu */
        .tab-menu-wrapper {
            position: sticky;
            top: 0;
            width: 100%;
            background: #fff;
            border-bottom: 2px solid #eee;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .tab-buttons {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            background: #fff;
            scrollbar-width: none;
            -ms-overflow-style: none;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            white-space: nowrap;
            margin: 0;
            align-items: center;
            justify-content: flex-start;
            min-height: 60px;
        }

        .tab-buttons::-webkit-scrollbar {
            display: none;
        }

        .tab-btn {
            flex: 0 0 auto;
            padding: 0.6rem 1.2rem;
            font-size: 0.95rem;
            border: none;
            background: transparent;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 25px;
            font-weight: 500;
            white-space: nowrap;
            min-width: max-content;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tab-btn.active {
            color: #fff;
            background: #001f8d;
            box-shadow: 0 4px 15px rgba(0,31,141,0.2);
        }

        /* Tablet Styles */
        @media (max-width: 991px) {
            .tab-buttons {
                padding: 0.75rem;
                gap: 0.5rem;
                min-height: 55px;
            }

            .tab-btn {
                padding: 0.6rem 1.1rem;
                font-size: 0.9rem;
                height: 38px;
            }
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            .tab-menu-wrapper {
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }

            .tab-buttons {
                padding: 0.6rem 0.75rem;
                gap: 0.4rem;
                min-height: 50px;
            }

            .tab-btn {
                padding: 0.5rem 1rem;
                font-size: 0.85rem;
                height: 36px;
            }
        }

        /* Small Mobile Styles */
        @media (max-width: 480px) {
            .tab-buttons {
                padding: 0.5rem 0.6rem;
                min-height: 45px;
            }

            .tab-btn {
                padding: 0.5rem 0.9rem;
                font-size: 0.8rem;
                height: 34px;
            }
        }

        /* Scroll Indicators */
        .scroll-indicator {
            position: absolute;
            top: 0;
            height: 100%;
            width: 30px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .scroll-indicator.left {
            left: 0;
            background: linear-gradient(to right, rgba(255,255,255,0.95), transparent);
        }

        .scroll-indicator.right {
            right: 0;
            background: linear-gradient(to left, rgba(255,255,255,0.95), transparent);
        }

        .scroll-indicator.show {
            opacity: 1;
        }

        .tab-content-container {
            padding: 0;
        }

        .overview {
            padding: 80px 0;
            background: #f8f9fa;
            min-height: 100vh;
            display: flex;
            align-items: center;
        }

        .overview-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            max-width: 100%;
            margin: 0 auto;
        }

        .overview-text {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            height: 100%;
            justify-content: center;
        }

        .overview-text h1 {
            color: #001f8d;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin: 0;
            line-height: 1.2;
        }

        .overview-text p {
            color: #666;
            font-size: clamp(1rem, 2vw, 1.1rem);
            line-height: 1.6;
            margin: 0;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            width: 100%;
            margin: 0;
        }

        .feature-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 0.5rem 0;
        }

        .feature-item i {
            font-size: 1.5rem;
            color: #feb900;
            flex-shrink: 0;
            margin-top: 0.25rem;
        }

        .feature-item span {
            color: #666;
            font-size: 1rem;
            line-height: 1.5;
        }

        .overview-video {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .overview-video img {
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.5s cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        .overview-video:hover img {
            transform: scale(1.1);
        }

        .page-content {
            padding: 60px 0;
        }

        .page-title {
            text-align: center;
            margin-bottom: 3rem;
        }

        .page-title h1 {
            color: #001f8d;
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .page-title p {
            color: #666;
            font-size: 1.1rem;
        }

        .page-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .page-card {
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .page-card:hover {
            transform: translateY(-5px);
        }

        .page-card-image {
            overflow: hidden;
            border-radius: 10px;
        }

        .page-card-image img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.5s cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        .page-card-image:hover img {
            transform: scale(1.1);
        }

        .page-card-content {
            padding: 1.5rem;
        }

        .page-card-content h3 {
            color: #001f8d;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .page-card-content p {
            color: #666;
            font-size: 1rem;
            line-height: 1.6;
        }

        .ebrochure {
            padding: 60px 0;
            background: #f8f9fa;
        }

        .ebrochure-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .ebrochure-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .ebrochure-text h2 {
            color: #001f8d;
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }

        .ebrochure-text p {
            color: #666;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 2rem;
        }

        .ebrochure-features {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .ebrochure-features .feature {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .ebrochure-features .feature i {
            font-size: 2rem;
            color: #feb900;
            margin-bottom: 0.5rem;
        }

        .ebrochure-features .feature span {
            color: #666;
            font-size: 1rem;
        }

        .ebrochure-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            background: #feb900;
            color: #fff;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .ebrochure-btn:hover {
            background: #001f8d;
            transform: translateY(-2px);
        }

        .ebrochure-image {
            position: relative;
        }

        .ebrochure-image img {
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.5s cubic-bezier(0.215, 0.61, 0.355, 1);
        }

        .ebrochure-image {
            overflow: hidden;
            border-radius: 10px;
        }

        .ebrochure-image:hover img {
            transform: scale(1.1);
        }

        .ebrochure-icon {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: #feb900;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ebrochure-icon i {
            font-size: 1.5rem;
            color: #fff;
        }

        @media (max-width: 991px) {
            .overview {
                min-height: auto;
                padding: 60px 0;
            }

            .overview-content {
                grid-template-columns: 1fr;
                gap: 3rem;
            }

            .overview-text {
                text-align: center;
                align-items: center;
            }

            .feature-item {
                text-align: left;
                align-items: flex-start;
            }
        }

        @media (max-width: 768px) {
            .overview {
                padding: 40px 0;
            }

            .feature-list {
                grid-template-columns: 1fr;
                gap: 1.25rem;
            }

            .overview-text {
                gap: 1.5rem;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .overview-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            max-width: 100%;
        }

        .overview-text {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .overview-text h1 {
            color: #001f8d;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 0;
            line-height: 1.2;
        }

        .overview-text p {
            color: #666;
            font-size: clamp(1rem, 2vw, 1.1rem);
            line-height: 1.6;
            margin-bottom: 0;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            width: 100%;
        }

        .page-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            width: 100%;
        }

        .page-title {
            text-align: center;
            margin-bottom: 3rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .page-title h1 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .page-title p {
            font-size: clamp(1rem, 2vw, 1.1rem);
        }

        .ebrochure-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            max-width: 100%;
        }

        .ebrochure-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 2rem;
            width: 100%;
            margin-bottom: 2rem;
        }

        @media (max-width: 1200px) {
            .container {
                padding: 0 30px;
            }
        }

        @media (max-width: 991px) {
            .overview-content,
            .ebrochure-content {
                grid-template-columns: 1fr;
                gap: 3rem;
            }

            .overview,
            .page-content,
            .ebrochure {
                padding: 50px 0;
            }

            .feature-list {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 20px;
            }

            .overview,
            .page-content,
            .ebrochure {
                padding: 40px 0;
            }

            .feature-list {
                grid-template-columns: 1fr;
                gap: 1.25rem;
            }

            .ebrochure-features {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 1.5rem;
            }

            .page-grid {
                grid-template-columns: 1fr;
            }

            .page-card-image img {
                height: 180px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }

            .overview-text h1,
            .page-title h1,
            .ebrochure-text h2 {
                font-size: 1.8rem;
            }

            .feature-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.75rem;
            }

            .ebrochure-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
`;

// Add styles to document head
document.head.insertAdjacentHTML('beforeend', styles);

// Function to initialize animations
function initializeAnimations() {
    // First make all content visible immediately
    document.querySelectorAll('.animate-section, .animate-item, .animate-scale, .animate-icon').forEach(el => {
        el.style.opacity = '1';
        el.style.transform = 'none';
    });

    // Then set up the observer for animations
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // Reset the element's style to allow animation
                entry.target.style.opacity = '';
                entry.target.style.transform = '';
                entry.target.classList.add('in-view');
            }
        });
    }, {
        threshold: 0.2
    });

    document.querySelectorAll('.animate-section, .animate-item, .animate-scale, .animate-icon').forEach(el => {
        observer.observe(el);
    });
}

// Export functions
window.loadTabContent = loadTabContent;
window.initializeFirstTab = initializeFirstTab;
window.handleTabClick = handleTabClick; 
window.initializeFirstTab = initializeFirstTab; 